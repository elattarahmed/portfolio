<VirtualHost *:443>
    ServerName this-is-my-lab.com
    ServerAlias this-is-my-lab.com

    SSLEngine on
    SSLCertificateFile /etc/ssl/cloudflare/this-is-my-lab.pem
    SSLCertificateKeyFile /etc/ssl/cloudflare/this-is-my-lab.key

    # Configuration du Proxy vers Rust
    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8443/
    ProxyPassReverse / http://127.0.0.1:8443/

    # Sécurité supplémentaire
    SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1
    SSLCipherSuite HIGH:!aNULL:!MD5

    ErrorLog ${APACHE_LOG_DIR}/rust_ssl_error.log
    CustomLog ${APACHE_LOG_DIR}/rust_ssl_access.log combined
</VirtualHost>